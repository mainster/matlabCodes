function Hd = fi_worksp_filter
%FI_WORKSP_FILTER Returns a discrete-time filter object.
%
% MATLAB Code
% Generated by MATLAB(R) 7.13 and the DSP System Toolbox 8.1.
%
% Generated on: 12-Jan-2012 13:13:51
%
% Equiripple Lowpass filter designed using the FIRPM function.
% All frequency values are normalized to 1.

Fpass = 0.2;             % Passband Frequency
Fstop = 0.25;            % Stopband Frequency
Dpass = 0.057501127785;  % Passband Ripple
Dstop = 0.0001;          % Stopband Attenuation
dens  = 20;              % Density Factor

% Calculate the order from the parameters using FIRPMORD.
[N, Fo, Ao, W] = firpmord([Fpass, Fstop], [1 0], [Dpass, Dstop]);

% Calculate the coefficients using the FIRPM function.
b  = firpm(N, Fo, Ao, W, {dens});
Hd = dfilt.dffir(b);

% Set the arithmetic property which is enabled by the filter design
% toolbox.
set(Hd, 'Arithmetic', 'fixed', ...
    'coeffWordLength', 16, ...
    'coeffAutoScale', true, ...
    'Signed', true, ...
    'inputWordLength', 16, ...
    'inputFracLength', 15, ...
    'FilterInternals', 'FullPrecision');

% Set the arithmetic property which is enabled by the filter design
% toolbox.
set(Hd, 'Arithmetic', 'fixed', ...
    'coeffWordLength', 16, ...
    'coeffAutoScale', true, ...
    'Signed', true, ...
    'inputWordLength', 16, ...
    'inputFracLength', 13, ...
    'FilterInternals', 'FullPrecision');

% Set the arithmetic property.
set(Hd, 'Arithmetic', 'fixed', ...
    'CoeffWordLength', 16, ...
    'CoeffAutoScale', true, ...
    'Signed',         true, ...
    'InputWordLength', 16, ...
    'inputFracLength', 13, ...
    'FilterInternals',  'FullPrecision');
denormalize(Hd);

% Set the arithmetic property.
set(Hd, 'Arithmetic', 'fixed', ...
    'CoeffWordLength', 16, ...
    'CoeffAutoScale', false, ...
    'NumFracLength', 17, ...
    'Signed',         true, ...
    'InputWordLength', 16, ...
    'inputFracLength', 13, ...
    'FilterInternals',  'FullPrecision');
normalize(Hd);

% Set the arithmetic property.
set(Hd, 'Arithmetic', 'fixed', ...
    'CoeffWordLength', 16, ...
    'CoeffAutoScale', true, ...
    'Signed',         true, ...
    'InputWordLength', 16, ...
    'inputFracLength', 13, ...
    'FilterInternals',  'FullPrecision');
denormalize(Hd);

% Set the arithmetic property.
set(Hd, 'Arithmetic', 'fixed', ...
    'CoeffWordLength', 17, ...
    'CoeffAutoScale', true, ...
    'Signed',         true, ...
    'InputWordLength', 16, ...
    'inputFracLength', 13, ...
    'FilterInternals',  'FullPrecision');
denormalize(Hd);

% Set the arithmetic property.
set(Hd, 'Arithmetic', 'fixed', ...
    'CoeffWordLength', 16, ...
    'CoeffAutoScale', true, ...
    'Signed',         true, ...
    'InputWordLength', 16, ...
    'inputFracLength', 13, ...
    'FilterInternals',  'FullPrecision');
denormalize(Hd);


% [EOF]
